process {
    executor = 'slurm'
    queue = 'aussrc_cluster'
}

params {
    WALLABY_SCRIPTS = 'aussrc/wallaby_scripts:latest'
    S2P_IMAGE = 'aussrc/s2p_setup:latest'
    SOFIAX_IMAGE = 'aussrc/sofiax:latest'
    SOFIA_IMAGE = 'astroaustin/sofiax:v0.0.5'

    CASDA_CUBE_TYPE = 'cube'
    CASDA_CUBE_FILENAME = 'image.restored.%SB$SBID%.cube.MilkyWay.contsub.fits'
    CASDA_WEIGHTS_TYPE = 'cube'
    CASDA_WEIGHTS_FILENAME = 'weights%SB$SBID%.cube.MilkyWay.fits'
    
    LINMOS_OUTPUT_IMAGE_CUBE = 'mosaicked'
    LINMOS_CONFIG_FILENAME = 'linmos.config'
    LINMOS_CLUSTER_OPTIONS = '--ntasks=324 --ntasks-per-node=18'
}

containerOptions = '--bind /mnt/shared:/mnt/shared'
singularity.enabled = true