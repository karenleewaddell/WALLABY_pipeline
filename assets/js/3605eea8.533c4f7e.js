"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[801],{6293:function(t,e,a){a.r(e),a.d(e,{frontMatter:function(){return o},metadata:function(){return d},toc:function(){return m},default:function(){return k}});var n=a(7462),r=a(3366),l=(a(7294),a(3905)),i=["components"],o={sidebar_position:1},d={unversionedId:"configuration/end-to-end",id:"configuration/end-to-end",isDocsHomePage:!1,title:"End-to-end",description:'The "end-to-end" workflow is the execution of both the mosaicking and source finding components sequentially.',source:"@site/docs/configuration/end-to-end.md",sourceDirName:"configuration",slug:"/configuration/end-to-end",permalink:"/WALLABY_workflows/docs/configuration/end-to-end",editUrl:"https://github.com/AusSRC/WALLABY_workflows/docs/configuration/end-to-end.md",version:"current",sidebarPosition:1,frontMatter:{sidebar_position:1},sidebar:"tutorialSidebar",previous:{title:"Getting started",permalink:"/WALLABY_workflows/docs/getting_started"},next:{title:"Mosaicking",permalink:"/WALLABY_workflows/docs/configuration/mosaicking"}},m=[{value:"Parameters",id:"parameters",children:[{value:"Environment",id:"environment",children:[]},{value:"CASDA Download",id:"casda-download",children:[]},{value:"Linmos",id:"linmos",children:[]},{value:"SoFiA",id:"sofia",children:[]},{value:"SoFiAX",id:"sofiax",children:[]}]}],p={toc:m};function k(t){var e=t.components,a=(0,r.Z)(t,i);return(0,l.kt)("wrapper",(0,n.Z)({},p,a,{components:e,mdxType:"MDXLayout"}),(0,l.kt)("p",null,'The "end-to-end" workflow is the execution of both the mosaicking and source finding components sequentially. '),(0,l.kt)("h2",{id:"parameters"},"Parameters"),(0,l.kt)("p",null,"We use \u2757 to indicate that a parameter is required and no default value is provided (the user will need to provide this on execution of the workflow). The parameter is otherwise optional."),(0,l.kt)("h3",{id:"environment"},"Environment"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Parameter Name"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"),(0,l.kt)("th",{parentName:"tr",align:null},"Default Value"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"WORKDIR"),"\u2757"),(0,l.kt)("td",{parentName:"tr",align:null},"Working directory in the AusSRC shared file system to store all temporary files. This should start with ",(0,l.kt)("inlineCode",{parentName:"td"},"/mnt/shared/home/")," followed by your username, or in the WALLABY shared space ",(0,l.kt)("inlineCode",{parentName:"td"},"/mnt/shared/wallaby/")),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"/mnt/shared/wallaby/nextflow_runs/"))))),(0,l.kt)("h3",{id:"casda-download"},"CASDA Download"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Parameter Name"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"),(0,l.kt)("th",{parentName:"tr",align:null},"Default Value"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"SBIDS"),"\u2757"),(0,l.kt)("td",{parentName:"tr",align:null},"The scheduling block IDs for the footprints of interest"),(0,l.kt)("td",{parentName:"tr",align:null})),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"CASDA_USERNAME"),"\u2757"),(0,l.kt)("td",{parentName:"tr",align:null},"Username for ",(0,l.kt)("a",{parentName:"td",href:"https://opal.atnf.csiro.au/"},"OPAL")," account that is required to programatically access the ",(0,l.kt)("a",{parentName:"td",href:"https://data.csiro.au/collections/domain/casdaObservation/search/"},"CASDA Data Access Portal")),(0,l.kt)("td",{parentName:"tr",align:null})),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"CASDA_PASSWORD"),"\u2757"),(0,l.kt)("td",{parentName:"tr",align:null},"Password for the ",(0,l.kt)("a",{parentName:"td",href:"https://opal.atnf.csiro.au/"},"OPAL")," account"),(0,l.kt)("td",{parentName:"tr",align:null})),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"CASDA_CUBE_TYPE")),(0,l.kt)("td",{parentName:"tr",align:null},"Cube type in the CASDA Portal search query"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"cube"))),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"CASDA_CUBE_FILENAME")),(0,l.kt)("td",{parentName:"tr",align:null},"Cube filename in the search query."),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"image.restored.%SB$SBID%.cube.MilkyWay.contsub.fits"))),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"CASDA_WEIGHTS_TYPE")),(0,l.kt)("td",{parentName:"tr",align:null},"Cube weight type in the CASDA portal search query"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"cube"))),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"CASDA_WEIGHTS_FILENAME")),(0,l.kt)("td",{parentName:"tr",align:null},"Cube filename in the search query."),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"weights%SB$SBID%.cube.MilkyWay.fits"))))),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"Query notes"),":"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"%")," is a wildcard"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"$SBID")," will be replaced with the string values from ",(0,l.kt)("inlineCode",{parentName:"li"},"SBIDS"))),(0,l.kt)("h3",{id:"linmos"},"Linmos"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Parameter Name"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"),(0,l.kt)("th",{parentName:"tr",align:null},"Default Value"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"LINMOS_OUTPUT_IMAGE_CUBE")),(0,l.kt)("td",{parentName:"tr",align:null},"Name of the mosaicked output image cube"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"mosaicked"))),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"LINMOS_CONFIG_FILENAME ")),(0,l.kt)("td",{parentName:"tr",align:null},"Name of the temporary ",(0,l.kt)("inlineCode",{parentName:"td"},"linmos")," configuration file"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"linmos.config"))),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"LINMOS_CLUSTER_OPTIONS")),(0,l.kt)("td",{parentName:"tr",align:null},"Cluster options for the execution of ",(0,l.kt)("inlineCode",{parentName:"td"},"linmos")),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"--ntasks=324 --ntasks-per-node=18"))))),(0,l.kt)("h3",{id:"sofia"},"SoFiA"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Parameter Name"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"),(0,l.kt)("th",{parentName:"tr",align:null},"Default Value"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"SOURCE_FINDING_RUN_NAME")),(0,l.kt)("td",{parentName:"tr",align:null},"Name for the SoFiA run which will be written into the database."),(0,l.kt)("td",{parentName:"tr",align:null})))),(0,l.kt)("h3",{id:"sofiax"},"SoFiAX"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Parameter Name"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"),(0,l.kt)("th",{parentName:"tr",align:null},"Default Value"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"DATABASE_HOST"),"\u2757"),(0,l.kt)("td",{parentName:"tr",align:null},"Host address for the PostgreSQL database"),(0,l.kt)("td",{parentName:"tr",align:null})),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"DATABASE_NAME"),"\u2757"),(0,l.kt)("td",{parentName:"tr",align:null},"Name of the PostgreSQL database"),(0,l.kt)("td",{parentName:"tr",align:null})),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"DATABASE_USER"),"\u2757"),(0,l.kt)("td",{parentName:"tr",align:null},"Username for PostgreSQL database access"),(0,l.kt)("td",{parentName:"tr",align:null})),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"DATABASE_PASS"),"\u2757"),(0,l.kt)("td",{parentName:"tr",align:null},"Password for PostgreSQL database access"),(0,l.kt)("td",{parentName:"tr",align:null})))))}k.isMDXComponent=!0}}]);